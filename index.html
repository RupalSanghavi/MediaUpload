<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/github-light.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Media Upload Tutorial by Rupal Sanghavi, Etta Godwin & Kena Du</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/RupalSanghavi">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Media Upload</h1>
            <h2></h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <div id="no-downloads">
        <span class="inner">
        </span>
      </div>


      <span class="banner-fix"></span>


      <section id="main_content">
     
        <h3>
          <a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h3>

          <p>This article is meant to take you through the steps to implimenting a functioning html script that will load pictures into a database. 
          Before we begin you need to set up your table in your database. We used a slim-skeleton on a vagrant program. If you do not have this set 
          up we suggest going <a href="http://jeremykendall.net/2014/07/28/from-zero-to-slim-framework-getting-your-first-project-off-the-ground/">here</a> 
          and do so. Also you should have mysql downloaded if you dont navigate to where your vagrant file and use the commands below to install mysql. </p>
          <code> sudo apt-get install mysql-server libapache2-mod-auth-mysql php5-mysql </code>
          <p>If you are new to mysql we suggest taking a quick look<a href=http://www.mysqltutorial.org/basic-mysql-tutorial.aspx> here</a>. Now that you have all those things we are ready to begin!</p>
        
        <h3>
          <a id="creating-the-table" class="anchor" href="#creating-the-table" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating The Table</h3>
          
          <p> Once you've logged into mysql you need to create that database and the table you will be storing the image to : </p>
          <ul>
            <li>Create a database, ours is named databaseimage: <code>CREATE database databaseimage;</code></li> 
            <li>Switch over to your database: <code>use databaseimage;</code></li>
            <li>Create a table, ours is named store: <code>CREATE table store (</code></li>
            <li>Create the first attribute inside the parenthesis, the first attribute is id with a type int, two constraints NOT NULL and PRIMARY KEY and one field AUTOINCREMENT: <code>   id int NOT NULL AUTOINCREMENT PRIMARY KEY,</code></li>
            <li>The second attribute is name with a type varchar that has no more than 50 characters and a constraint of NOT NULL: <code>  name varchar(50) NOT NULL, </code></li>
            <li>The third attribute which is the most important one is the image with a type blob and a constraint of NOT NULL: <code>  image blob NOT NULL </code></li>
            <li>Generate a closing parenthesis: <code>  )  </code></li>
          </ul>
          
        <h3>
          <a id="connecting-file-to-database" class="anchor" href="#connecting-file-to-database" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Connecting PHP File to Database</h3>
          
          <p> Now you are ready to create your PHP file. The we made our file in atom and we named it MediaUpload.php.
            <ul>
              <li>Now you need to declare the file as a html file to do this start the file with <code><!DOCTYPE html></code></li>
              <li>Next you need to connecting it to the database you created. start by opeing a PHP reading section: <code>?php</code></li>
              <li>On the line create connect to the server <code>$servername = "localhost";</code> </li>
              <li>Connect with username and password for mysql with <code>$username = "root";</code> and <code>$password = "your password";</code></li>
              <li>Access certain database using <code>$dbname = "databaseimage";</code></li>
              <li>Finally you can close the PHP section with <code>?></code></li>
            </ul>
         <h3>
          <a id="creating-user-interface" class="anchor" href="#creating-user-interface" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating User Interface</h3>
        
          <p>Now we need to create a basic html file with the tags html, head, and body as shown in the image.</p>
          <img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xlt1/v/t1.0-9/12803047_1108206922555344_1319046608328515035_n.jpg?oh=b8d288b9a619bc8bb718ab5c453aa3d6&oe=5769E53D"/>
          <p>Next a title needs to be added to the page in the header section. To format the title there are two lines starting with "meta" as showed in the following picture. </p>
          <img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xtf1/v/t1.0-9/12805706_1108210525888317_1101951824324498166_n.jpg?oh=c03a9926202ff74b6fa005e025bcd0c0&oe=57654ABF"/>
          <p>In the body section of the html a form needs to be added so the user can add a photo to the database for this you need to use a form with a selfcalling action to your
          php file, aswell as the POST method for changing the database. Also the File needs to address the input type which we called file and image along with
          a submit button that uploads the image</p>
          <img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xtf1/v/t1.0-9/12795308_1108213035888066_332427012006805454_n.jpg?oh=f2c0361749a6fdb91be97d0ccc1f4344&oe=5767A8BA"/>
          <p> Now when you access the page you should see this.<img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xtl1/v/t1.0-9/12814299_1108779252498111_2406891388035363817_n.jpg?oh=ddb7dcf39cc503060fccab6c186d1280&oe=5754CC3D"/> </p>
      
        <h3>
          <a id="accepting-image-file" class="anchor" href="#accepting-image-file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Accepting the Image File</h3>
          <p> Now that you have the user interface made you need to accept the image file. To do that you need to start a new php tag underneath the form. </p>
          <ul>
            <li>A PDO needs to be created to correctly connect to the mysql account using the variables declared at the begining of the page. The exception mode should be set the attribute <img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xta1/v/t1.0-9/10400344_1108432029199500_3173890769593115531_n.jpg?oh=97da184c65f1f7863ece059a27c98e0c&oe=5764DC63" /></li>
            <li>Now the file properties need to be loaded from the image in the form to a temporary name</li>
            <li>If there is no file to load we need an error message like "Please select an image"<img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xta1/v/t1.0-9/943957_1108432032532833_31673831546013598_n.jpg?oh=2ef113b0c41538e2b1a6227b2cbe0a21&oe=57516F1F" /></li>
            <li>When there is a file you need to store the image contents into the $image variable</li>
            <li>Store the name of the file into $image_name</li>
            <li>Get the size of the image and store it to make sure the file is actually an image
            <img src="https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xpt1/v/t1.0-9/1929937_1108432035866166_5302531134155526651_n.jpg?oh=cb8508f246c0cf38073d2927f1cfcf25&oe=575B4238" /></li>
          </ul>
          
        <h3>
          <a id="storing-image" class="anchor" href="#storing-image" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Storing Image</h3>
          
          <p> Now all you have to do is make sure the file is in fact a image by using the size you store in the previous section and insert the image name and contents into
          into the store table created at the begining of this tutorial. Then wrap up the whole file with a simple echo statement that lets the user know their image was stored.</p>
          <img src= "https://scontent-dfw1-1.xx.fbcdn.net/hphotos-xlt1/v/t1.0-9/12814424_1108758072500229_998763490335544531_n.jpg?oh=0d554688350c5fcc271532443c858e50&oe=57575D0B" />
          <p> Once you have uploaded your image your final product should look like this <img src="https://cloud.githubusercontent.com/assets/14035935/13436063/139748ac-dfa3-11e5-9757-fcf583527e51.png"/></p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>Projects by <a href="https://github.com/RupalSanghavi">Rupal Sanghavi, Etta Godwin, & Kena Du</a> can be found on <a href="https://github.com/RupalSanghavi">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
